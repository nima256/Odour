<!DOCTYPE html>
<html lang="fa" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>سبد خرید</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/vazir-font/30.1.0/font-face.css"
    />
    <style>
      body {
        font-family: "Vazir", sans-serif;
        background-color: #f8f9fa;
      }
      .cart-button {
        background-color: #2563eb;
        color: white;
        padding: 1rem;
        border-radius: 0.5rem;
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        transition: all 0.3s;
        border: none;
        cursor: pointer;
      }

      .cart-button:hover {
        background-color: #1d4ed8;
        transform: scale(1.05);
      }

      .cart-button:focus {
        outline: none;
        box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.5);
      }

      .cart-button.success {
        background-color: #16a34a;
      }

      .cart-button.success:hover {
        background-color: #15803d;
      }

      .icon {
        width: 2rem;
        height: 2rem;
      }

      .hidden {
        display: none;
      }

      svg {
        stroke: currentColor;
        stroke-width: 2;
        stroke-linecap: round;
        stroke-linejoin: round;
        fill: none;
      }

      .logo-container {
        --logo-size: 2.5rem;
      }

      .logo {
        width: var(--logo-size);
        height: var(--logo-size);
      }

      .nav-link {
        transition: all 0.3s ease;
        position: relative;
      }

      .nav-link::after {
        content: "";
        position: absolute;
        width: 0;
        height: 2px;
        bottom: -4px;
        right: 50%;
        background: linear-gradient(90deg, #3b82f6, #1d4ed8);
        transition: all 0.3s ease;
      }

      .nav-link:hover::after {
        width: 100%;
        right: 0;
      }

      .icon-btn {
        transition: all 0.3s ease;
      }

      .icon-btn:hover {
        transform: translateY(-2px);
      }

      .mobile-menu {
        transition: all 0.3s ease;
        transform: translateX(100%);
        opacity: 0;
      }

      .mobile-menu.active {
        transform: translateX(0);
        opacity: 1;
      }
      .page {
        display: none;
      }

      .active-page {
        display: block;
      }

      input:focus,
      select:focus {
        outline: none;
        border-color: #3b82f6;
      }

      .product-image {
        width: 80px;
        height: 80px;
        background-color: #f3f4f6;
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
      }

      .product-image svg {
        width: 60px;
        height: 60px;
      }
    </style>
  </head>
  <nav
    class="fixed top-0 right-0 left-0 bg-white shadow-md z-50 px-4 md:px-6 py-3"
  >
    <div class="max-w-7xl mx-auto flex items-center justify-between">
      <!-- Logo -->
      <a href="#" class="flex items-center order-2 md:order-1 h-12 md:h-14">
        <div class="h-full overflow-hidden flex items-center">
          <img
            src="/logo.png"
            alt="لوگوی گلو بیوتی"
            class="h-full w-auto object-contain"
          />
        </div>
      </a>

      <!-- Desktop Menu -->
      <div
        class="hidden md:flex items-center space-x-8 space-x-reverse order-1 md:order-2"
      >
        <a
          href="/"
          class="nav-link text-gray-800 hover:text-pink-500 transition-colors"
          >خانه</a
        >
        <a
          href="/shop"
          class="nav-link text-gray-800 hover:text-pink-500 transition-colors"
          >فروشگاه</a
        >
        <a
          href="#"
          class="nav-link text-gray-800 hover:text-pink-500 transition-colors"
          >دسته‌بندی‌ها</a
        >
        <a
          href="#"
          class="nav-link text-gray-800 hover:text-pink-500 transition-colors"
          >وبلاگ</a
        >
        <a
          href="#"
          class="nav-link text-gray-800 hover:text-pink-500 transition-colors"
          >درباره ما</a
        >
        <a
          href="#"
          class="nav-link text-gray-800 hover:text-pink-500 transition-colors"
          >تماس با ما</a
        >
      </div>

      <!-- Icons -->
      <div
        class="flex items-center space-x-4 space-x-reverse order-1 md:order-3"
      >
        <div class="relative">
          <button
            onclick="window.location.href='cart.html';"
            class="relative text-gray-700 hover:text-pink-500 transition-colors"
          >
            <i class="fas fa-shopping-bag text-xl"></i>
          </button>
        </div>
        <button
          id="user-auth-button"
          class="text-gray-700 hover:text-pink-500 transition-colors"
        >
          <i class="fas fa-user text-xl"></i>
        </button>
      </div>
    </div>

    <!-- Mobile Menu -->
    <div
      id="mobile-menu"
      class="md:hidden hidden bg-white absolute right-0 left-0 top-full shadow-md"
    >
      <div class="flex flex-col px-4 py-2">
        <a
          href="#"
          class="py-2 text-gray-800 hover:text-pink-500 transition-colors"
          >خانه</a
        >
        <a
          href="#"
          class="py-2 text-gray-800 hover:text-pink-500 transition-colors"
          >فروشگاه</a
        >
        <a
          href="#"
          class="py-2 text-gray-800 hover:text-pink-500 transition-colors"
          >دسته‌بندی‌ها</a
        >
        <a
          href="#"
          class="py-2 text-gray-800 hover:text-pink-500 transition-colors"
          >وبلاگ</a
        >
        <a
          href="#"
          class="py-2 text-gray-800 hover:text-pink-500 transition-colors"
          >درباره ما</a
        >
        <a
          href="#"
          class="py-2 text-gray-800 hover:text-pink-500 transition-colors"
          >تماس با ما</a
        >
      </div>
    </div>
  </nav>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const mobileMenuButton = document.getElementById("mobile-menu-button");
      const mobileMenu = document.getElementById("mobile-menu");

      mobileMenuButton.addEventListener("click", function () {
        mobileMenu.classList.toggle("hidden");
      });

      // بستن منو هنگام کلیک خارج از آن
      document.addEventListener("click", function (event) {
        if (
          !mobileMenu.contains(event.target) &&
          event.target !== mobileMenuButton
        ) {
          mobileMenu.classList.add("hidden");
        }
      });
    });
  </script>
  <br /><br />
  <div class="bg-gradient-to-br from-blue-50 to-indigo-50">
    <div class="container mx-auto px-4 py-8 max-w-4xl">
      <!-- Cart Page -->
      <div id="cart-page" class="page active-page mt-5">
        <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
          <h1 class="text-2xl font-bold text-gray-800 mb-6 text-right">
            سبد خرید
          </h1>

          <div class="space-y-6 mb-8" id="cart-items">
            <!-- Products will be added here by JavaScript -->
          </div>

          <div class="border-t border-gray-200 pt-4 mt-6">
            <div class="flex justify-between items-center mb-4">
              <div class="flex items-center space-x-2 space-x-reverse">
                <input
                  type="text"
                  id="discount-code"
                  placeholder="کد تخفیف"
                  class="border border-gray-300 rounded-md px-3 py-2 text-right"
                />
                <button
                  id="apply-discount"
                  class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition"
                >
                  اعمال
                </button>
              </div>
              <div class="text-gray-600">کد تخفیف</div>
            </div>

            <div class="flex justify-between items-center mb-2">
              <div class="font-bold text-xl text-gray-800" id="subtotal">
                0 تومان
              </div>
              <div class="text-gray-600">جمع کل</div>
            </div>

            <div
              id="discount-row"
              class="flex justify-between items-center mb-2 hidden"
            >
              <div class="font-bold text-green-600" id="discount-amount">
                0 تومان
              </div>
              <div class="text-gray-600">تخفیف</div>
            </div>

            <div
              class="flex justify-between items-center mb-2 border-t border-gray-200 pt-2"
            >
              <div class="font-bold text-xl text-blue-700" id="total">
                0 تومان
              </div>
              <div class="text-gray-600">مبلغ قابل پرداخت</div>
            </div>
          </div>
        </div>

        <div class="text-left">
          <button
            id="next-step"
            class="bg-green-600 text-white px-6 py-3 rounded-md hover:bg-green-700 transition text-lg"
          >
            ادامه فرآیند خرید <span class="mr-2">→</span>
          </button>
        </div>
      </div>

      <!-- Shipping Page -->
      <div id="shipping-page" class="page">
        <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
          <h1 class="text-2xl font-bold text-gray-800 mb-6 text-right">
            اطلاعات ارسال
          </h1>

          <div class="space-y-4 mb-6">
            <div class="flex flex-col">
              <label class="text-gray-600 mb-1 text-right"
                >نام و نام خانوادگی</label
              >
              <input
                type="text"
                id="full-name"
                class="border border-gray-300 rounded-md px-3 py-2 text-right"
              />
            </div>

            <div class="flex flex-col">
              <label class="text-gray-600 mb-1 text-right">کد پستی</label>
              <input
                type="text"
                id="postal-code"
                class="border border-gray-300 rounded-md px-3 py-2 text-right"
              />
            </div>
            <div class="flex flex-col">
              <label class="text-gray-600 mb-1 text-right">آدرس</label>
              <textarea
                id="address"
                rows="3"
                class="border border-gray-300 rounded-md px-3 py-2 text-right"
              ></textarea>
            </div>

            <div class="flex flex-col">
              <label class="text-gray-600 mb-1 text-right">شماره تماس</label>
              <input
                type="tel"
                id="phone"
                class="border border-gray-300 rounded-md px-3 py-2 text-right"
              />
            </div>

            <div class="flex flex-col">
              <label class="text-gray-600 mb-1 text-right">روش ارسال</label>
              <select
                id="shipping-method"
                class="border border-gray-300 rounded-md px-3 py-2 text-right"
              >
                <option value="post">پست (15,000 تومان)</option>
                <option value="tipax">تیپاکس (25,000 تومان)</option>
              </select>
            </div>
          </div>
        </div>

        <div class="flex justify-between">
          <button
            id="go-to-summary"
            class="bg-green-600 text-white px-6 py-3 rounded-md hover:bg-green-700 transition text-lg"
          >
            مشاهده خلاصه سفارش <span class="mr-2">→</span>
          </button>
          <button
            id="back-to-cart"
            class="bg-gray-500 text-white px-6 py-3 rounded-md hover:bg-gray-600 transition text-lg"
          >
            <span class="ml-2">←</span> بازگشت
          </button>
        </div>
      </div>

      <!-- Summary Page -->
      <div id="summary-page" class="page">
        <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
          <h1 class="text-2xl font-bold text-gray-800 mb-6 text-right">
            خلاصه سفارش
          </h1>

          <div class="space-y-4 mb-6">
            <div class="border-b border-gray-200 pb-4">
              <h2 class="text-lg font-bold text-gray-700 mb-3 text-right">
                اطلاعات خریدار
              </h2>
              <div
                class="text-gray-600 text-right"
                id="summary-customer-info"
              ></div>
            </div>

            <div class="border-b border-gray-200 pb-4">
              <h2 class="text-lg font-bold text-gray-700 mb-3 text-right">
                محصولات
              </h2>
              <div id="summary-products" class="space-y-4"></div>
            </div>

            <div>
              <div class="flex justify-between items-center mb-2">
                <div class="text-gray-800" id="summary-subtotal">0 تومان</div>
                <div class="text-gray-600">جمع کل</div>
              </div>

              <div
                id="summary-discount-row"
                class="flex justify-between items-center mb-2 hidden"
              >
                <div class="text-green-600" id="summary-discount">0 تومان</div>
                <div class="text-gray-600">تخفیف</div>
              </div>

              <div class="flex justify-between items-center mb-2">
                <div class="text-gray-800" id="summary-shipping">0 تومان</div>
                <div class="text-gray-600">هزینه ارسال</div>
              </div>

              <div
                class="flex justify-between items-center pt-2 border-t border-gray-200"
              >
                <div class="font-bold text-xl text-blue-700" id="summary-total">
                  0 تومان
                </div>
                <div class="text-gray-600">مبلغ قابل پرداخت</div>
              </div>
            </div>
          </div>
        </div>

        <div class="flex justify-between">
          <button
            id="complete-purchase"
            class="bg-green-600 text-white px-6 py-3 rounded-md hover:bg-green-700 transition text-lg"
          >
            تکمیل خرید و پرداخت
          </button>
          <button
            id="back-to-shipping"
            class="bg-gray-500 text-white px-6 py-3 rounded-md hover:bg-gray-600 transition text-lg"
          >
            <span class="ml-2">←</span> بازگشت
          </button>
        </div>
      </div>

      <!-- Confirmation Page -->
      <div id="confirmation-page" class="page">
        <div class="bg-white rounded-lg shadow-lg p-8 mb-6 text-center">
          <div
            class="w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="h-12 w-12 text-green-600"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M5 13l4 4L19 7"
              />
            </svg>
          </div>
          <h1 class="text-2xl font-bold text-gray-800 mb-4">
            سفارش شما با موفقیت ثبت شد
          </h1>
          <p class="text-gray-600 mb-6">
            از خرید شما متشکریم. جزئیات سفارش به ایمیل شما ارسال خواهد شد.
          </p>
          <div class="bg-gray-50 p-4 rounded-lg mb-6">
            <p class="text-gray-700 font-bold">
              شماره سفارش: <span class="font-normal" id="order-number"></span>
            </p>
          </div>
          <button
            id="back-to-shop"
            class="bg-blue-600 text-white px-6 py-3 rounded-md hover:bg-blue-700 transition text-lg"
          >
            بازگشت به فروشگاه
          </button>
        </div>
      </div>
    </div>
    <footer class="p-4 bg-white md:p-8 lg:p-10 dark:bg-gray-800">
      <div class="mx-auto max-w-screen-xl text-center">
        <a
          href="#"
          class="flex justify-center items-center text-2xl font-semibold text-gray-900 dark:text-white"
        >
          <svg
            class="mr-2 h-8"
            viewBox="0 0 33 33"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M25.2696 13.126C25.1955 13.6364 24.8589 14.3299 24.4728 14.9328C23.9856 15.6936 23.2125 16.2264 22.3276 16.4114L18.43 17.2265C17.8035 17.3575 17.2355 17.6853 16.8089 18.1621L14.2533 21.0188C13.773 21.5556 13.4373 21.4276 13.4373 20.7075C13.4315 20.7342 12.1689 23.9903 15.5149 25.9202C16.8005 26.6618 18.6511 26.3953 19.9367 25.6538L26.7486 21.7247C29.2961 20.2553 31.0948 17.7695 31.6926 14.892C31.7163 14.7781 31.7345 14.6639 31.7542 14.5498L25.2696 13.126Z"
              fill="url(#paint0_linear_11430_22515)"
            />
            <path
              d="M23.5028 9.20133C24.7884 9.94288 25.3137 11.0469 25.3137 12.53C25.3137 12.7313 25.2979 12.9302 25.2694 13.1261L28.0141 14.3051L31.754 14.5499C32.2329 11.7784 31.2944 8.92561 29.612 6.65804C28.3459 4.9516 26.7167 3.47073 24.7581 2.34097C23.167 1.42325 21.5136 0.818599 19.8525 0.486816L17.9861 2.90382L17.3965 5.67918L23.5028 9.20133Z"
              fill="url(#paint1_linear_11430_22515)"
            />
            <path
              d="M1.5336 11.2352C1.5329 11.2373 1.53483 11.238 1.53556 11.2358C1.67958 10.8038 1.86018 10.3219 2.08564 9.80704C3.26334 7.11765 5.53286 5.32397 8.32492 4.40943C11.117 3.49491 14.1655 3.81547 16.7101 5.28323L17.3965 5.67913L19.8525 0.486761C12.041 -1.07341 4.05728 3.51588 1.54353 11.2051C1.54233 11.2087 1.53796 11.2216 1.5336 11.2352Z"
              fill="url(#paint2_linear_11430_22515)"
            />
            <path
              d="M19.6699 25.6538C18.3843 26.3953 16.8003 26.3953 15.5147 25.6538C15.3402 25.5531 15.1757 25.4399 15.0201 25.3174L12.7591 26.8719L10.8103 30.0209C12.9733 31.821 15.7821 32.3997 18.589 32.0779C20.7013 31.8357 22.7995 31.1665 24.7582 30.0368C26.3492 29.1191 27.7 27.9909 28.8182 26.7195L27.6563 23.8962L25.7762 22.1316L19.6699 25.6538Z"
              fill="url(#paint3_linear_11430_22515)"
            />
            <path
              d="M15.0201 25.3175C14.0296 24.5373 13.4371 23.3406 13.4371 22.0588V21.931V11.2558C13.4371 10.6521 13.615 10.5494 14.1384 10.8513C13.3323 10.3864 11.4703 8.79036 9.17118 10.1165C7.88557 10.858 6.8269 12.4949 6.8269 13.978V21.8362C6.8269 24.775 8.34906 27.8406 10.5445 29.7966C10.6313 29.874 10.7212 29.9469 10.8103 30.0211L15.0201 25.3175Z"
              fill="url(#paint4_linear_11430_22515)"
            />
            <path
              d="M28.6604 5.49565C28.6589 5.49395 28.6573 5.49532 28.6589 5.49703C28.9613 5.83763 29.2888 6.23485 29.6223 6.68734C31.3648 9.05099 32.0158 12.0447 31.4126 14.9176C30.8093 17.7906 29.0071 20.2679 26.4625 21.7357L25.7761 22.1316L28.8181 26.7195C34.0764 20.741 34.09 11.5388 28.6815 5.51929C28.6789 5.51641 28.67 5.50622 28.6604 5.49565Z"
              fill="url(#paint5_linear_11430_22515)"
            />
            <path
              d="M7.09355 13.978C7.09354 12.4949 7.88551 11.1244 9.17113 10.3829C9.34564 10.2822 9.52601 10.1965 9.71002 10.1231L9.49304 7.38962L7.96861 4.26221C5.32671 5.23364 3.1897 7.24125 2.06528 9.83067C1.2191 11.7793 0.75001 13.9294 0.75 16.1888C0.75 18.0243 1.05255 19.7571 1.59553 21.3603L4.62391 21.7666L7.09355 21.0223V13.978Z"
              fill="url(#paint6_linear_11430_22515)"
            />
            <path
              d="M9.71016 10.1231C10.8817 9.65623 12.2153 9.74199 13.3264 10.3829L13.4372 10.4468L22.3326 15.5777C22.9566 15.9376 22.8999 16.2918 22.1946 16.4392L22.7078 16.332C23.383 16.1908 23.9999 15.8457 24.4717 15.3428C25.2828 14.4782 25.5806 13.4351 25.5806 12.5299C25.5806 11.0468 24.7886 9.67634 23.503 8.93479L16.6911 5.00568C14.1436 3.53627 11.0895 3.22294 8.29622 4.14442C8.18572 4.18087 8.07756 4.2222 7.96875 4.26221L9.71016 10.1231Z"
              fill="url(#paint7_linear_11430_22515)"
            />
            <path
              d="M20.0721 31.8357C20.0744 31.8352 20.0739 31.8332 20.0717 31.8337C19.6252 31.925 19.1172 32.0097 18.5581 32.0721C15.638 32.3978 12.7174 31.4643 10.5286 29.5059C8.33986 27.5474 7.09347 24.7495 7.09348 21.814L7.09347 21.0222L1.59546 21.3602C4.1488 28.8989 12.1189 33.5118 20.0411 31.8421C20.0449 31.8413 20.0582 31.8387 20.0721 31.8357Z"
              fill="url(#paint8_linear_11430_22515)"
            />
            <defs>
              <linearGradient
                id="paint0_linear_11430_22515"
                x1="20.8102"
                y1="23.9532"
                x2="23.9577"
                y2="12.9901"
                gradientUnits="userSpaceOnUse"
              >
                <stop stop-color="#1724C9" />
                <stop offset="1" stop-color="#1C64F2" />
              </linearGradient>
              <linearGradient
                id="paint1_linear_11430_22515"
                x1="28.0593"
                y1="10.5837"
                x2="19.7797"
                y2="2.33321"
                gradientUnits="userSpaceOnUse"
              >
                <stop stop-color="#1C64F2" />
                <stop offset="1" stop-color="#0092FF" />
              </linearGradient>
              <linearGradient
                id="paint2_linear_11430_22515"
                x1="16.9145"
                y1="5.2045"
                x2="4.42432"
                y2="5.99375"
                gradientUnits="userSpaceOnUse"
              >
                <stop stop-color="#0092FF" />
                <stop offset="1" stop-color="#45B2FF" />
              </linearGradient>
              <linearGradient
                id="paint3_linear_11430_22515"
                x1="16.0698"
                y1="28.846"
                x2="27.2866"
                y2="25.8192"
                gradientUnits="userSpaceOnUse"
              >
                <stop stop-color="#1C64F2" />
                <stop offset="1" stop-color="#0092FF" />
              </linearGradient>
              <linearGradient
                id="paint4_linear_11430_22515"
                x1="8.01881"
                y1="15.8661"
                x2="15.9825"
                y2="24.1181"
                gradientUnits="userSpaceOnUse"
              >
                <stop stop-color="#1724C9" />
                <stop offset="1" stop-color="#1C64F2" />
              </linearGradient>
              <linearGradient
                id="paint5_linear_11430_22515"
                x1="26.2004"
                y1="21.8189"
                x2="31.7569"
                y2="10.6178"
                gradientUnits="userSpaceOnUse"
              >
                <stop stop-color="#0092FF" />
                <stop offset="1" stop-color="#45B2FF" />
              </linearGradient>
              <linearGradient
                id="paint6_linear_11430_22515"
                x1="6.11387"
                y1="9.31427"
                x2="3.14054"
                y2="20.4898"
                gradientUnits="userSpaceOnUse"
              >
                <stop stop-color="#1C64F2" />
                <stop offset="1" stop-color="#0092FF" />
              </linearGradient>
              <linearGradient
                id="paint7_linear_11430_22515"
                x1="21.2932"
                y1="8.78271"
                x2="10.4278"
                y2="11.488"
                gradientUnits="userSpaceOnUse"
              >
                <stop stop-color="#1724C9" />
                <stop offset="1" stop-color="#1C64F2" />
              </linearGradient>
              <linearGradient
                id="paint8_linear_11430_22515"
                x1="7.15667"
                y1="21.5399"
                x2="14.0824"
                y2="31.9579"
                gradientUnits="userSpaceOnUse"
              >
                <stop stop-color="#0092FF" />
                <stop offset="1" stop-color="#45B2FF" />
              </linearGradient>
            </defs>
          </svg>
          Flowbite
        </a>
        <p class="my-6 text-gray-500 dark:text-gray-400">
          Open-source library of over 400+ web components and interactive
          elements built for better web.
        </p>
        <ul
          class="flex flex-wrap justify-center items-center mb-6 text-gray-900 dark:text-white"
        >
          <li>
            <a href="#" class="mr-4 hover:underline md:mr-6">About</a>
          </li>
          <li>
            <a href="#" class="mr-4 hover:underline md:mr-6">Premium</a>
          </li>
          <li>
            <a href="#" class="mr-4 hover:underline md:mr-6">Campaigns</a>
          </li>
          <li>
            <a href="#" class="mr-4 hover:underline md:mr-6">Blog</a>
          </li>
          <li>
            <a href="#" class="mr-4 hover:underline md:mr-6"
              >Affiliate Program</a
            >
          </li>
          <li>
            <a href="#" class="mr-4 hover:underline md:mr-6">FAQs</a>
          </li>
          <li>
            <a href="#" class="mr-4 hover:underline md:mr-6">Contact</a>
          </li>
        </ul>
        <span class="text-sm text-gray-500 sm:text-center dark:text-gray-400"
          >© 2021-2022 <a href="#" class="hover:underline">Flowbite™</a>. All
          Rights Reserved.</span
        >
      </div>
    </footer>
    <script>
      // Product images as SVG (stored as functions to keep code clean)
      const productImages = {
        phone: () => `
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="text-gray-700">
                <rect x="5" y="2" width="14" height="20" rx="2" ry="2"></rect>
                <line x1="12" y1="18" x2="12" y2="18"></line>
                <path d="M8 2v2a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2V2"></path>
            </svg>
        `,
        headphones: () => `
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="text-gray-700">
                <path d="M3 18v-6a9 9 0 0 1 18 0v6"></path>
                <path d="M21 19a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3zM3 19a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H3z"></path>
            </svg>
        `,
        powerbank: () => `
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="text-gray-700">
                <rect x="2" y="4" width="20" height="16" rx="2" ry="2"></rect>
                <line x1="6" y1="10" x2="6" y2="14"></line>
                <line x1="10" y1="10" x2="10" y2="14"></line>
                <line x1="14" y1="10" x2="14" y2="14"></line>
                <line x1="18" y1="10" x2="18" y2="14"></line>
            </svg>
        `,
      };

      // Sample products data
      const products = [
        {
          id: 1,
          name: "گوشی موبایل سامسونگ",
          price: 12500000,
          quantity: 1,
          image: productImages.phone,
        },
        {
          id: 2,
          name: "هدفون بی سیم",
          price: 2800000,
          quantity: 1,
          image: productImages.headphones,
        },
        {
          id: 3,
          name: "پاور بانک 10000mAh",
          price: 1500000,
          quantity: 2,
          image: productImages.powerbank,
        },
      ];

      // Discount code (for demo)
      const validDiscountCode = "TAKHFIF20";
      const discountAmount = 500000;

      // Shipping costs
      const shippingCosts = {
        post: 15000,
        tipax: 25000,
      };

      // State variables
      let appliedDiscount = 0;
      let selectedShippingMethod = "post";

      // Format price in Toman
      function formatPrice(price) {
        return new Intl.NumberFormat("fa-IR").format(price) + " تومان";
      }

      // Calculate subtotal
      function calculateSubtotal() {
        return products.reduce(
          (total, product) => total + product.price * product.quantity,
          0
        );
      }

      // Calculate total
      function calculateTotal() {
        return calculateSubtotal() - appliedDiscount;
      }

      // Calculate final total (including shipping)
      function calculateFinalTotal() {
        return calculateTotal() + shippingCosts[selectedShippingMethod];
      }

      // Render cart items
      function renderCartItems() {
        const cartItemsContainer = document.getElementById("cart-items");
        cartItemsContainer.innerHTML = "";

        products.forEach((product) => {
          const itemTotal = product.price * product.quantity;

          const itemElement = document.createElement("div");
          itemElement.className =
            "flex flex-col md:flex-row justify-between items-start md:items-center border-b border-gray-200 pb-4";
          itemElement.innerHTML = `
                <div class="flex items-start mb-4 md:mb-0">
                    <div class="product-image ml-4">
                        ${product.image()}
                    </div>
                    <div class="flex-1">
                        <h3 class="font-bold text-gray-800 text-right">${
                          product.name
                        }</h3>
                        <p class="text-gray-600 text-right">${formatPrice(
                          product.price
                        )}</p>
                    </div>
                </div>
                <div class="flex items-center self-end md:self-auto">
                    <div class="flex items-center border border-gray-300 rounded-md overflow-hidden ml-4">
                        <button class="px-3 py-1 bg-gray-100 hover:bg-gray-200 transition" onclick="updateQuantity(${
                          product.id
                        }, ${product.quantity + 1})">+</button>
                        <span class="px-4 py-1">${product.quantity}</span>
                        <button class="px-3 py-1 bg-gray-100 hover:bg-gray-200 transition" onclick="updateQuantity(${
                          product.id
                        }, ${product.quantity - 1})" ${
            product.quantity <= 1 ? "disabled" : ""
          }>-</button>
                    </div>
                    <div class="font-bold text-gray-800">${formatPrice(
                      itemTotal
                    )}</div>
                </div>
            `;
          cartItemsContainer.appendChild(itemElement);
        });

        // Update totals
        updateTotals();
      }

      // Update product quantity
      function updateQuantity(productId, newQuantity) {
        if (newQuantity < 1) return;

        const productIndex = products.findIndex((p) => p.id === productId);
        if (productIndex !== -1) {
          products[productIndex].quantity = newQuantity;
          renderCartItems();
        }
      }

      // Update totals display
      function updateTotals() {
        const subtotal = calculateSubtotal();
        const total = calculateTotal();

        document.getElementById("subtotal").textContent = formatPrice(subtotal);
        document.getElementById("total").textContent = formatPrice(total);

        if (appliedDiscount > 0) {
          document.getElementById("discount-row").classList.remove("hidden");
          document.getElementById("discount-amount").textContent =
            "- " + formatPrice(appliedDiscount);
        } else {
          document.getElementById("discount-row").classList.add("hidden");
        }
      }

      // Apply discount code
      function applyDiscountCode() {
        const codeInput = document.getElementById("discount-code");
        const code = codeInput.value.trim();

        if (code === validDiscountCode) {
          appliedDiscount = discountAmount;
          alert("کد تخفیف با موفقیت اعمال شد.");
        } else {
          appliedDiscount = 0;
          alert("کد تخفیف نامعتبر است.");
        }

        updateTotals();
      }

      // Render summary page
      function renderSummary() {
        const fullName = document.getElementById("full-name").value;
        const postalCode = document.getElementById("postal-code").value;
        const address = document.getElementById("address").value;
        const phone = document.getElementById("phone").value;

        document.getElementById("summary-customer-info").innerHTML = `
            <p>${fullName}</p>
            <p>کد پستی: ${postalCode}</p>
            <p>آدرس: ${address}</p>
            <p>تلفن: ${phone}</p>
            <p>روش ارسال: ${
              selectedShippingMethod === "post" ? "پست" : "تیپاکس"
            }</p>
        `;

        const summaryProducts = document.getElementById("summary-products");
        summaryProducts.innerHTML = "";

        products.forEach((product) => {
          const itemTotal = product.price * product.quantity;
          const productElement = document.createElement("div");
          productElement.className = "flex justify-between items-center";
          productElement.innerHTML = `
                <div class="flex items-center">
                    <div class="product-image ml-4" style="width: 50px; height: 50px;">
                        ${product.image()}
                    </div>
                    <div class="text-gray-800">${formatPrice(itemTotal)}</div>
                </div>
                <div class="text-gray-600 text-right">${product.name} × ${
            product.quantity
          }</div>
            `;
          summaryProducts.appendChild(productElement);
        });

        const subtotal = calculateSubtotal();
        const shippingCost = shippingCosts[selectedShippingMethod];
        const finalTotal = calculateFinalTotal();

        document.getElementById("summary-subtotal").textContent =
          formatPrice(subtotal);
        document.getElementById("summary-shipping").textContent =
          formatPrice(shippingCost);
        document.getElementById("summary-total").textContent =
          formatPrice(finalTotal);

        if (appliedDiscount > 0) {
          document
            .getElementById("summary-discount-row")
            .classList.remove("hidden");
          document.getElementById("summary-discount").textContent =
            "- " + formatPrice(appliedDiscount);
        } else {
          document
            .getElementById("summary-discount-row")
            .classList.add("hidden");
        }
      }

      // Navigation between pages
      function showPage(pageId) {
        document.querySelectorAll(".page").forEach((page) => {
          page.classList.remove("active-page");
        });
        document.getElementById(pageId).classList.add("active-page");

        if (pageId === "summary-page") {
          renderSummary();
        }

        if (pageId === "confirmation-page") {
          const orderNumber =
            "ORD-" + Math.floor(100000 + Math.random() * 900000);
          document.getElementById("order-number").textContent = orderNumber;
        }

        window.scrollTo(0, 0);
      }

      // Initialize
      document.addEventListener("DOMContentLoaded", () => {
        renderCartItems();

        document
          .getElementById("apply-discount")
          .addEventListener("click", applyDiscountCode);
        document
          .getElementById("next-step")
          .addEventListener("click", () => showPage("shipping-page"));
        document
          .getElementById("back-to-cart")
          .addEventListener("click", () => showPage("cart-page"));
        document
          .getElementById("go-to-summary")
          .addEventListener("click", () => {
            const fullName = document.getElementById("full-name").value;
            const postalCode = document.getElementById("postal-code").value;
            const address = document.getElementById("address").value;
            const phone = document.getElementById("phone").value;

            if (!fullName || !postalCode || !address || !phone) {
              alert("لطفاً تمام فیلدها را پر کنید:");
              return;
            }

            showPage("summary-page");
          });

        document
          .getElementById("back-to-shipping")
          .addEventListener("click", () => showPage("shipping-page"));
        document
          .getElementById("complete-purchase")
          .addEventListener("click", () => showPage("confirmation-page"));
        document
          .getElementById("back-to-shop")
          .addEventListener("click", () => showPage("cart-page"));

        document
          .getElementById("shipping-method")
          .addEventListener("change", (e) => {
            selectedShippingMethod = e.target.value;
            updateTotals();
          });
      });
    </script>
  </div>
</html>
